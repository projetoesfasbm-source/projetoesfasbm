{% extends "base.html" %}

{% block title %}RelatÃ³rios{% endblock %}

{% block content %}
<div class="content-header">
    <h1>MÃ³dulo de RelatÃ³rios</h1>
    <p>Gere documentos a partir dos dados do sistema.</p>
</div>

<div class="modules-grid">
    
    <div class="module-card">
        <div class="card-content">
            <div class="card-header">
                <span class="card-icon">ğŸ“„</span>
                <h3 class="card-title">ExportaÃ§Ã£o Mensal</h3>
            </div>
            <p class="card-description">Gera o mapa mensal padrÃ£o para pagamento de horas-aula.</p>
            <div class="card-actions">
                {# VERIFICAÃ‡ÃƒO: Inclui 'admin_sens' #}
                {% if current_user.role in ['programador', 'admin_escola', 'super_admin', 'sens', 'admin_sens'] %}
                    <a href="{{ url_for('relatorios.gerar_relatorio_horas_aula', tipo='mensal') }}" class="btn-card primary">
                        Gerar RelatÃ³rio
                    </a>
                {% else %}
                    <button class="btn-card secondary" disabled style="cursor: not-allowed; opacity: 0.6;" title="Apenas SENS e AdministraÃ§Ã£o">
                        ğŸ”’ Acesso Restrito
                    </button>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="module-card">
        <div class="card-content">
            <div class="card-header">
                <span class="card-icon">ğŸ–ï¸</span>
                <h3 class="card-title">ExportaÃ§Ã£o Efetivo RR</h3>
            </div>
            <p class="card-description">Gera o mapa especÃ­fico para o efetivo da Reserva Remunerada (RR).</p>
            <div class="card-actions">
                {# VERIFICAÃ‡ÃƒO: Inclui 'admin_sens' #}
                {% if current_user.role in ['programador', 'admin_escola', 'super_admin', 'sens', 'admin_sens'] %}
                    <a href="{{ url_for('relatorios.gerar_relatorio_horas_aula', tipo='efetivo_rr') }}" class="btn-card primary">
                        Gerar RelatÃ³rio
                    </a>
                {% else %}
                    <button class="btn-card secondary" disabled style="cursor: not-allowed; opacity: 0.6;" title="Apenas SENS e AdministraÃ§Ã£o">
                        ğŸ”’ Acesso Restrito
                    </button>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="module-card">
        <div class="card-content">
            <div class="card-header">
                <span class="card-icon">ğŸ§‘â€ğŸ«</span>
                <h3 class="card-title">ExportaÃ§Ã£o por Instrutor</h3>
            </div>
            <p class="card-description">Gera um relatÃ³rio individualizado selecionando instrutores especÃ­ficos.</p>
            <div class="card-actions">
                {# VERIFICAÃ‡ÃƒO: Inclui 'admin_sens' #}
                {% if current_user.role in ['programador', 'admin_escola', 'super_admin', 'sens', 'admin_sens'] %}
                    <a href="{{ url_for('relatorios.gerar_relatorio_horas_aula', tipo='por_instrutor') }}" class="btn-card primary">
                        Gerar RelatÃ³rio
                    </a>
                {% else %}
                    <button class="btn-card secondary" disabled style="cursor: not-allowed; opacity: 0.6;" title="Apenas SENS e AdministraÃ§Ã£o">
                        ğŸ”’ Acesso Restrito
                    </button>
                {% endif %}
            </div>
        </div>
    </div>

</div>
{% endblock %}