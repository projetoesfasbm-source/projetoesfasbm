{% extends "base.html" %}

{% block title %}Adicionar Alunos - {{ turma.nome }}{% endblock %}

{% block content %}
<div class="content-header">
    <h1>Adicionar Alunos à Turma: {{ turma.nome }}</h1>
    <p>Selecione os alunos abaixo que você deseja incluir nesta turma.</p>
</div>

<div class="table-container" style="max-width: 800px; margin: 0 auto;">
    <form method="POST" action="{{ url_for('turma.adicionar_alunos_turma', turma_id=turma.id) }}">
        <div class="modal-body">
            {% for aluno in alunos_sem_turma %}
            <label class="checkbox-item">
                <input type="checkbox" name="aluno_ids" value="{{ aluno.id }}">
                <strong>{{ aluno.user.nome_completo or aluno.user.username }}</strong> (Matrícula: {{ aluno.matricula }})
            </label>
            {% else %}
            <div class="empty-state" style="padding: 1rem 0;">
                <p>Não há alunos sem turma para adicionar no momento.</p>
            </div>
            {% endfor %}
        </div>
        <div class="form-actions">
            <a href="{{ url_for('turma.detalhes_turma', turma_id=turma.id) }}" class="btn btn-secondary">Cancelar</a>
            <button type="submit" class="btn btn-primary">Adicionar Selecionados</button>
        </div>
    </form>
</div>

<style>
.modal-body { max-height: 400px; overflow-y: auto; padding: 1rem 0; }
.checkbox-item { display: block; padding: 0.75rem; border-radius: 6px; cursor: pointer; border: 1px solid transparent; }
.checkbox-item:hover { background-color: #f8fafc; border-color: #e2e8f0; }
.checkbox-item input { margin-right: 0.75rem; transform: scale(1.2); }
</style>
{% endblock %}